<Window x:Class="MiniMartApp.Products"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:MiniMartApp.Converters"
        Title="Products" Height="700" Width="1000" Background="#F2F4F7">
    <Window.Resources>
        <local:StockLevelColorConverter x:Key="StockLevelColorConverter"/>
        <local:StockLevelLabelConverter x:Key="StockLevelLabelConverter"/>
    </Window.Resources>

    <DockPanel>
        <!-- Sidebar -->
        <StackPanel DockPanel.Dock="Left" Width="200" Background="#1F2937">
            <Button Content="🏠 Home" Click="GoHome_Click" Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}" Margin="10" Foreground="White"/>
        </StackPanel>

        <!-- Main Content Area -->
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBlock Text="Products" FontSize="26" FontWeight="Bold" Grid.Row="0" Margin="0,0,0,20"/>

            <!-- Search and Buttons -->
            <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0,0,0,10">
                <Button Content="🔍" Width="40" Height="30" Margin="0,0,5,0" Click="SearchProduct_Click"/>
                <TextBox x:Name="txtSearch" Width="200" Height="30"/>
                <Button Content="＋ Add Product" Margin="10,0" Height="30" Width="120" Click="AddProduct_Click"/>
                <Button Content="⇪ Export" Margin="10,0" Height="30" Width="80"/>
            </StackPanel>

            <!-- DataGrid -->
            <DataGrid x:Name="dgProducts" Grid.Row="2" AutoGenerateColumns="False" Height="400" Margin="0,10,0,10">
                <DataGrid.Columns>
                    <DataGridCheckBoxColumn Width="40"/>
                    <DataGridTextColumn Header="Product" Binding="{Binding Name}" Width="*"/>
                    <DataGridTextColumn Header="Brand" Binding="{Binding Brand}" Width="*"/>
                    <DataGridTextColumn Header="Units" Binding="{Binding Units}" Width="*"/>
                    <DataGridTextColumn Header="Unit Price" Binding="{Binding UnitPrice, StringFormat=C}" Width="*"/>
                    <DataGridTemplateColumn Header="Levels" Width="100">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Border Background="{Binding Units, Converter={StaticResource StockLevelColorConverter}}"
                                        CornerRadius="10" Padding="5" HorizontalAlignment="Center">
                                    <TextBlock Text="{Binding Units, Converter={StaticResource StockLevelLabelConverter}}"
                                               Foreground="White" FontWeight="Bold"/>
                                </Border>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Header="Actions" Width="100">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Content="✏️ Edit" Click="EditProduct_Click"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>

            <!-- Pagination Footer -->
            <TextBlock Grid.Row="3" Text="Showing n of n" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,5,0,0"/>
        </Grid>
    </DockPanel>
</Window>
